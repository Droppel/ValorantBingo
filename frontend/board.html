<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>BINGO</title>
  <link rel="stylesheet" href="/css/main.css">
</head>
<body>
  <script type="text/javascript">
      connstring = "ws://" + location.host + "/ws"
      webSocket = new WebSocket(connstring);

      webSocket.onmessage = function (event) {
          msg = event.data.split(";")
          item = document.getElementById(msg[0])
          if (item === null) {
            
          } else {
            item.className = msg[1] === "true" ? "grid-item-completed" : "grid-item"
          }

          miniboards = document.getElementById("miniboards")

          for (i = 0; i < miniboards.childElementCount; i++) {
                
              item = document.getElementById(i + "/" + msg[0])
              if (item === null) {
                continue
              }

              item.className = msg[1] === "true" ? "grid-item-completed-mini" : "grid-item-mini"
          }
      }
  </script>
  <div class="wrapper">
    <div class="grid-container" id="main">
      {{board}}
    </div>
    <div class="playernames">
      {{playernames}}
    </div>
    <div class="miniboards" id="miniboards">
      {{miniboards}}
    </div>
  </div>
</body>
</html>